{"name":"Order Inquiry","template":"custom","owner":"sales-rep@bezl.io","shares":[],"vars":[],"dataSubscriptions":[],"markup":"<style>\n  .btn.btn-mobile {\n  \tpadding-left: 6px;\n    padding-right: 6px;\n    width: 90px;\n  }\n  .button08 { width: 8%;}\n  .button1 {width: 10%;}\n  .button14 {width: 14%;}\n  .button2 {width: 18%;}\n  .button3 {width: 28%;}\n</style>\n\n\n<form class=\"form-inline\">\n  <label>Start Date</label>\n  <input type=\"date\" class=\"form-control mb-2 mr-sm-2 mb-sm-0\" [(ngModel)]=\"bezl.vars['startDate']\" name=\"startDate\">\n\n  <label>End Date</label>\n    <input type=\"date\" class=\"form-control mb-2 mr-sm-2 mb-sm-0\" [(ngModel)]=\"bezl.vars['endDate']\" name=\"endDate\">\n\n  <button type=\"submit\" class=\"btn btn-primary\" *ngIf=\"!bezl.vars.loading\" (click)=\"bezl.functions['search']()\">Search</button>\n</form>\n<label class=\"pull-right\" [hidden]=\"!bezl.vars.loading\">Loading... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n\n\n<table class=\"table table-hover table-striped\">\n   <thead>\n    <tr>\n     <th>\n       \n       <!-- This is the normal button layout for a big screen.  The small layout will follow -->\n       <div class=\"btn-group btn-group-justified hidden-xs\" role=\"group\" aria-label=\"Justified button group\">\n         <div class=\"btn-group\" role=\"group\">\n           <button type=\"button\"\n                   (click)=\"bezl.functions['sort']('OrderDate')\"\n                   class=\"btn btn-default\">\n             <span class=\"pull-left\">Order Date</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderDate' && bezl.vars.sort == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderDate' && bezl.vars.sort == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group\" role=\"group\">\n           <button type=\"button\"\n                   (click)=\"bezl.functions['sort']('OrderNum')\"\n                   class=\"btn btn-default\">\n             <span class=\"pull-left\">Order #</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderNum' && bezl.vars.sort == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderNum' && bezl.vars.sort == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group\" role=\"group\">\n           <button type=\"button\" \n                   (click)=\"bezl.functions['sort']('PoNum')\"\n                   class=\"btn btn-default\">\n             <span class=\"pull-left\">PO #</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'PoNum' && bezl.vars.sort == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'PoNum' && bezl.vars.sort == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group\" role=\"group\">\n           <button type=\"button\" \n                   (click)=\"bezl.functions['sort']('OrderAmt')\"\n                   class=\"btn btn-default\">\n             <span class=\"pull-left\">Order Amount</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderAmt' && bezl.vars.sort == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderAmt' && bezl.vars.sort == 'desc'\"></i>\n           </button>\n         </div>\n       </div>\n       \n       <!-- This is the normal button layout for small screens -->\n       <div class=\"visible-xs\">\n\t\t<div class=\"row\">\n          <div class=\"col-sm-12\">\n         Sort By: <br />\n         \t<div class=\"btn-group\">\n             <button type=\"button\"\n                     (click)=\"bezl.functions['sort']('OrderDate')\"\n                     class=\"btn btn-default btn-mobile\"\n                     >\n               <span class=\"pull-left\">Order Date</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderDate' && bezl.vars.sort == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderDate' && bezl.vars.sort == 'desc'\"></i>\n             </button>\n              \n              <button type=\"button\"\n                     (click)=\"bezl.functions['sort']('OrderNum')\"\n                     class=\"btn btn-default btn-mobile\"\n                     >\n               <span class=\"pull-left\">Order Num</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderNum' && bezl.vars.sort == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderNum' && bezl.vars.sort == 'desc'\"></i>\n             </button>\n\n             <button type=\"button\" \n                     (click)=\"bezl.functions['sort']('PoNum')\"\n                     class=\"btn btn-default btn-mobile\"\n                     >\n               <span class=\"pull-left\">PO #</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'PoNum' && bezl.vars.sort == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'PoNum' && bezl.vars.sort == 'desc'\"></i>\n             </button>\n\n             <button type=\"button\" \n                     (click)=\"bezl.functions['sort']('OrderAmt')\"\n                     class=\"btn btn-default btn-mobile\"\n                     >\n               <span class=\"pull-left\">Order Amount</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderAmt' && bezl.vars.sort == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderAmt' && bezl.vars.sort == 'desc'\"></i>\n             </button>\n            </div>\n          </div>\n         </div>\n        </div>\n       \n     </th>\n    </tr>\n   </thead>\n  <tbody>\n   <tr class=\"read\" *ngFor=\"let row of bezl.vars.Orders\">\n    <td>\n      <!-- Main row per account -->\n      <div class=\"row\"\n       (click)=\"bezl.functions['selectRow'](row)\">\n        <div class=\"col-sm-3\">\n          <i class=\"fa fa-chevron-right\" aria-hidden=\"true\" *ngIf=\"!row.Selected\"></i>\n          <i class=\"fa fa-chevron-down\" aria-hidden=\"true\" *ngIf=\"row.Selected\"></i>\n          {{row.OrderDate | date}}\n        </div>\n        \n        <div class=\"col-sm-3\">{{row.OrderNum}}</div>\n        <div class=\"col-sm-3\">{{row.PoNum}}</div>\n        <div class=\"col-sm-3\">{{row.OrderAmt}}</div>\n      </div>\n      <!-- END: Main row per account -->\n      \n      <!-- Drill-down view -->\n      <div class=\"row\" *ngIf=\"row.Selected\" style=\"margin-left:5px;margin-top:10px\">\n        \n        <table class=\"table table-hover table-striped\">\n   <thead>\n    <tr>\n     <th>\n       \n       <!-- This is the normal button layout for a big screen.  The small layout will follow -->\n       <div class=\"btn-group btn-group-justified hidden-xs\" role=\"group\" aria-label=\"Justified button group\">\n         <div class=\"btn-group button08\" role=\"group\">\n           <button type=\"button\" class=\"btn btn-primary\">\n             <span class=\"pull-left\">Line #</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderLine' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderLine' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group button2\" role=\"group\">\n           <button type=\"button\" class=\"btn btn-primary\">\n             <span class=\"pull-left\">Part #</span>\n             <i class=\"fa fa-sort-alpha-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-alpha-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group button3\" role=\"group\">\n           <button type=\"button\"class=\"btn btn-primary\">\n             <span class=\"pull-left\">Description</span>\n             <i class=\"fa fa-sort-alpha-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'PartDesc' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-alpha-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'PartDesc' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group button1\" role=\"group\">\n           <button type=\"button\" class=\"btn btn-primary\">\n             <span class=\"pull-left\">Quantity</span>\n             <i class=\"fa fa-sort-alpha-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderQty' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-alpha-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'OrderQty' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group button14\" role=\"group\">\n           <button type=\"button\" class=\"btn btn-primary\">\n             <span class=\"pull-left\">Shipped Qty </span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'ShippedQty' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'ShippedQty' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group button2\" role=\"group\">\n           <button type=\"button\"class=\"btn btn-primary\">\n             <span class=\"pull-left\">Unit Price</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'UnitPrice' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'UnitPrice' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n         <div class=\"btn-group button2\" role=\"group\">\n           <button type=\"button\" class=\"btn btn-primary\">\n             <span class=\"pull-left\">Ext Price</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'ExtPrice' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'ExtPrice' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n         </div>\n       </div>\n       \n       <!-- This is the normal button layout for small screens -->\n       <div class=\"visible-xs\">\n\t\t<div class=\"row\">\n          <div class=\"col-sm-12\">\n         Sort By: <br />\n         \t<div class=\"btn-group\">\n             <button type=\"button\"class=\"btn btn-primary btn-mobile\">\n               <span class=\"pull-left\">Line #</span>\n               <i class=\"fa fa-sort-alpha-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderLine' && bezl.vars.sortInner == 'asc'\"></i>\n               <i class=\"fa fa-sort-alpha-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderLine' && bezl.vars.sortInner == 'desc'\"></i>\n             </button>\n\n             <button type=\"button\" class=\"btn btn-primary btn-mobile\">\n               <span class=\"pull-left\">Part #</span>\n               <i class=\"fa fa-sort-alpha-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'asc'\"></i>\n               <i class=\"fa fa-sort-alpha-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'desc'\"></i>\n             </button>\n\n             <button type=\"button\" class=\"btn btn-primary btn-mobile\">\n               <span class=\"pull-left\">Description</span>\n               <i class=\"fa fa-sort-alpha-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'PartDesc' && bezl.vars.sortInner == 'asc'\"></i>\n               <i class=\"fa fa-sort-alpha-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'PartDesc' && bezl.vars.sortInner == 'desc'\"></i>\n             </button>\n            </div>\n          </div>\n         </div>\n         <div class=\"row\">\n           <div class=\"col-sm-12\">\n             <div class=\"btn-group\">\n             <button type=\"button\" class=\"btn btn-primary btn-mobile\">\n               <span class=\"pull-left\">Quantity</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderQty' && bezl.vars.sortInner == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'OrderQty' && bezl.vars.sortInner == 'desc'\"></i>\n             </button>\n\t\t\t\t\n               <button type=\"button\" class=\"btn btn-primary btn-mobile\">\n             <span class=\"pull-left\">Shipped Qty</span>\n             <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'ShippedQty' && bezl.vars.sortInner == 'asc'\"></i>\n             <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                *ngIf=\"bezl.vars.sortCol == 'ShippedQty' && bezl.vars.sortInner == 'desc'\"></i>\n           </button>\n               \n             <button type=\"button\" class=\"btn btn-primary btn-mobile\">\n               <span class=\"pull-left\">Unit Price</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'UnitPrice' && bezl.vars.sortInner == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'UnitPrice' && bezl.vars.sortInner == 'desc'\"></i>\n             </button>\n\n             <button type=\"button\" class=\"btn btn-primary btn-mobile\">\n               <span class=\"pull-left\">Ext Price</span>\n               <i class=\"fa fa-sort-numeric-asc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'ExtPrice' && bezl.vars.sortInner == 'asc'\"></i>\n               <i class=\"fa fa-sort-numeric-desc pull-right\" aria-hidden=\"true\" \n                  *ngIf=\"bezl.vars.sortCol == 'ExtPrice' && bezl.vars.sortInner == 'desc'\"></i>\n             </button>\n            </div>\n          </div>\n         </div>\n       </div>\n       \n     </th>\n    </tr>\n   </thead>\n  <tbody>\n   <tr class=\"read\" *ngFor=\"let line of row.OrderLines\">\n    <td>\n      <!-- Main row per line -->\n      <div class=\"row\">\n        <div class=\"col-sm-1\">\n          {{line.OrderLine}}\n        </div>\n        \n\t\t<div class=\"col-sm-2\">{{line.PartNum}}</div>\n        <div class=\"col-sm-3\">{{line.PartDesc}}</div>\n        <div class=\"col-sm-1\">{{line.OrderQty}}</div>\n        <div class=\"col-sm-1\">{{line.ShippedQty}}</div>\n        <div class=\"col-sm-2\">{{line.UnitPrice | currency:'USD':true:'1.2-2'}}</div>\n        <div class=\"col-sm-2\">{{line.ExtPrice | currency:'USD':true:'1.2-2'}}</div>\n      </div>\n        \n      <!-- END: Drill-down view --> \n      \n     </td>\n   </tr>\n    \n  </tbody>\n</table>\n","functions":[{"method":"ngOnInit","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/onStartup.js'], function(functions) {\n\tfunctions.onStartup(bezl)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/onStartup.js'], function (functions) {\r\n    functions.onStartup(bezl);\r\n});\r\n"},{"method":"onDataChange","code":"bezl.data = dataResp;\n\nrequire(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/onDataChange.js'], function(functions) {\n\tfunctions.onDataChange(bezl)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.data = dataResp;\r\nrequire(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/onDataChange.js'], function (functions) {\r\n    functions.onDataChange(bezl);\r\n});\r\n"},{"method":"search","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function(functions) {\n\tfunctions.runQuery(bezl, 'Orders')\n});\n\n","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function (functions) {\r\n    functions.runQuery(bezl, 'Orders');\r\n});\r\n"},{"method":"selectRow","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function(functions) {\n\tfunctions.select(bezl, parm)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function (functions) {\r\n    functions.select(bezl, parm);\r\n});\r\n"},{"method":"sort","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function(functions) {\n\tfunctions.sort(bezl, parm)\n});\n","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function (functions) {\r\n    functions.sort(bezl, parm);\r\n});\r\n"},{"method":"innerSort","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function(functions) {\n\tfunctions.innerSort(bezl, parm)\n});\n","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/sales-rep/order-inquiry/js/order.js'], function (functions) {\r\n    functions.innerSort(bezl, parm);\r\n});\r\n"}],"datatrans":null,"data":"","id":"57ee3ee6-c105-4bd1-b95d-464682b74605","type":"Bezl"}