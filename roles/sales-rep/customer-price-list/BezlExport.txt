<style>
  .btn.btn-mobile {
  	padding-left: 6px;
    padding-right: 6px;
    width: 90px;
  }
  
.button5 {width: 50%;}
</style>


<form class="form-inline">
  <input type="text" class="form-control mb-2 mr-sm-2 mb-sm-0" (keyup)="bezl.functions['filter']()"
         [(ngModel)]="bezl.vars['filter']" name="filter" placeholder="Filter by...">
</form>
<label class="pull-right" [hidden]="!bezl.vars.loading">Loading... <i class="fa fa-spinner fa-spin" style="font-size:24px"></i></label>


<table class="table table-hover table-striped" id="priceList">
   <thead>
    <tr>
     <th>
       
       <!-- This is the normal button layout for a big screen.  The small layout will follow -->
       <div class="btn-group btn-group-justified hidden-xs" role="group" aria-label="Justified button group">
         <div class="btn-group" role="group">
           <button type="button"
                   (click)="bezl.functions['sort']('PartNum')"
                   class="btn btn-default">
             <span class="pull-left">Part #</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group" role="group">
           <button type="button" 
                   (click)="bezl.functions['sort']('PartDescription')"
                   class="btn btn-default">
             <span class="pull-left">Part Description</span>
             <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartDescription' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartDescription' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group" role="group">
           <button type="button" 
                   (click)="bezl.functions['sort']('BasePrice')"
                   class="btn btn-default">
             <span class="pull-left">Base Price</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'BasePrice' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'BasePrice' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group" role="group">
           <button type="button" 
                   (click)="bezl.functions['sort']('StartDate')"
                   class="btn btn-default">
             <span class="pull-left">Effective Date</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'StartDate' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'StartDate' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
       </div>
       
       <!-- This is the normal button layout for small screens -->
       <div class="visible-xs">
		<div class="row">
          <div class="col-sm-12">
         Sort By: <br />
         	<div class="btn-group">
             <button type="button"
                   (click)="bezl.functions['sort']('PartNum')"
                   class="btn btn-default btn-mobile">
             <span class="pull-left">Part #</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sort == 'desc'"></i>
           </button>

            <button type="button" 
                   (click)="bezl.functions['sort']('PartDescription')"
                   class="btn btn-default btn-mobile">
             <span class="pull-left">Part Description</span>
             <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartDescription' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartDescription' && bezl.vars.sort == 'desc'"></i>
           </button>

             <button type="button" 
                   (click)="bezl.functions['sort']('BasePrice')"
                   class="btn btn-default btn-mobile">
             <span class="pull-left">Base Price</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'BasePrice' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'BasePrice' && bezl.vars.sort == 'desc'"></i>
           </button>
            </div>
          </div>
         </div>
         <div class="row">
           <div class="col-sm-12">
             <div class="btn-group">
             <button type="button" 
                   (click)="bezl.functions['sort']('StartDate')"
                   class="btn btn-default btn-mobile">
             <span class="pull-left">Effective Date</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'StartDate' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'StartDate' && bezl.vars.sort == 'desc'"></i>
           </button>

            </div>
          </div>
         </div>
       </div>
       
     </th>
    </tr>
   </thead>
  <tbody>
   <tr class="read" *ngFor="let row of bezl.vars.PriceList">
    <td>
      <!-- Main row per account -->
      <div class="row"
       (click)="bezl.functions['selectRow'](row)">
        <div class="col-sm-3">
          <i class="fa fa-chevron-right" aria-hidden="true" *ngIf="!row.Selected"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" *ngIf="row.Selected"></i>
          {{row.PartNum}}
        </div>
        
        <div class="col-sm-3">{{row.PartDescription}}</div>
        <div class="col-sm-3">{{row.BasePrice | currency:'USD':true:'1.2-2'}}</div>
		<div class="col-sm-3">{{row.StartDate | date}} - {{row.EndDate | date}}</div>
      </div>
      <!-- END: Main row per account -->
      
      <!-- Drill-down view -->
      <div class="row" *ngIf="row.Selected" style="margin-left:5px;margin-top:10px">
        
        <table class="table table-hover table-striped">
   <thead>
    <tr>
     <th>
       
       <!-- This is the normal button layout for a big screen.  The small layout will follow -->
       <div class="btn-group btn-group-justified hidden-xs " role="group" aria-label="Justified button group">
        <div class="btn-group button5">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Quantity</span>
             <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'Quantity' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'Quantity' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group button5">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Price Break Unit Price</span>
             <i class="fa fa-sort-numeric-asc pull-left" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'PriceBreakUnitPrice' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'PriceBreakUnitPrice' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
       </div>
       
       <!-- This is the normal button layout for small screens MOBILE-->
       <div class="visible-xs">
		<div class="row">
          <div class="col-sm-12">
         Sort By: <br />
         	<div class="btn-group col-sm-12">
             <button type="button" class="btn btn-primary btn-mobile">
             <span class="pull-left">Quantity</span>
             <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'Quantity' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'Quantity' && bezl.vars.sortInner == 'desc'"></i>
           </button>

             <button type="button" class="btn btn-primary btn-mobile">
             <span class="pull-left">Price Break Unit Price</span>
             <i class="fa fa-sort-numeric-asc pull-left" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'PriceBreakUnitPrice' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortColInner == 'PriceBreakUnitPrice' && bezl.vars.sortInner == 'desc'"></i>
           </button>
            </div>
          </div>
         </div>
       </div>
       
     </th>
    </tr>
   </thead>
  <tbody>
   
    
   <tr class="read" *ngFor="let line of row.PartLines">
    <td>
      <!-- Main row per line -->
      <div class="row">
		<div class="col-sm-6">{{line.Quantity}}</div>
        <div class="col-sm-6">{{line.PriceBreakUnitPrice | currency:'USD':true:'1.2-2'}}</div>
      </div>
     
      <!-- END: Drill-down view --> 
      
     </td>
   </tr>
  </tbody>
</table>
