{"name":"Tasks View","template":"custom","owner":"sales-rep@bezl.io","shares":[],"vars":[],"dataSubscriptions":[],"markup":"<div class=\"row\" *ngIf=\"bezl.vars.selectedAccount.ID == null\">\n  <div class=\"col-9\"><h3>No Customer Selected</h3></div>\n</div>\n\n<div class=\"row\" *ngIf=\"bezl.vars.selectedAccount.ID != null\">\n  <div class=\"col-sm-6\"><h3>{{bezl.vars.selectedAccount.Name}}</h3></div>\n  <div class=\"col-sm-6 pull-right\">\n    <!--button (click)=\"bezl.functions['updateTasks']()\" class=\"btn btn-md btn-default pull-right\">Save</button-->\n    <button (click)=\"bezl.functions['addTask']()\" class=\"btn btn-md btn-default pull-right\">Add Task</button>\n  </div>\n</div>\n\n<table class=\"table table-striped\" *ngIf=\"bezl.vars.selectedAccount.ID != null\">\n  <thead>\n    <tr>\n      <th>\n        <div class=\"col-sm-2\">Complete</div>\n        <div class=\"col-sm-8\">Task Description</div>\n        <div class=\"col-sm-2\"></div>\n      </th>\n    </tr>\n  </thead>\n  <tbody>\n   <tr class=\"read\"\n       *ngFor=\"let task of bezl.vars.selectedAccount.Tasks\">\n    <td>\n      <!-- Main row per task -->\n      <div class=\"row\">\n        <div class=\"col-sm-2\">\n          <input type=\"checkbox\" \n                 [(ngModel)]=\"task.Complete\"\n                 (change)=\"bezl.functions['taskChange'](task)\">\n        </div>\n        \n        <div class=\"col-sm-8\">\n          <input class=\"form-control\" type=\"text\" \n                 [(ngModel)]=\"task.TaskDescription\"\n                 (keyup)=\"bezl.functions['taskChange'](task)\">\n        </div>\n        <div class=\"col-sm-2\">\n\t\t\t<button (click)=\"bezl.functions['selectRow'](task)\" class=\"btn btn-md btn-default pull-right\">Details</button>\n        </div>\n      </div>\n      <!-- END: Main row per task -->\n      \n      <!-- Drill-down view -->\n      <div class=\"row\" *ngIf=\"task.Selected\" style=\"margin-left:5px;margin-top:10px\">\n        \n        <!-- Details -->      \n        <div class=\"col-sm-12\">\n          <div class=\"panel panel-primary\">\n            <div class=\"panel-heading\">\n              <h4 class=\"panel-title\">Details</h4>\n            </div>\n            <div class=\"panel-body\">\n              <div class=\"row\">\n                <div class=\"col-sm-2\">Task Type:</div>\n                <div class=\"col-sm-10\">    \n                  <select class=\"form-control\" \n                          [(ngModel)]=\"task.TaskType\"\n                          (change)=\"bezl.functions['taskChange'](task)\">\n                    <option *ngFor=\"let item of bezl.data.TaskTypes\" [value]=\"item.TaskType\">{{item.TypeDescription}}</option>\n                  </select>\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-2\">Start Date:</div>\n                <div class=\"col-sm-10\">    \n                  <input type=\"date\" [(ngModel)]=\"task.StartDate\"\n                                     (change)=\"bezl.functions['taskChange'](task)\">\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-2\">Due Date:</div>\n                <div class=\"col-sm-10\">    \n                  <input type=\"date\" [(ngModel)]=\"task.DueDate\"\n                                     (change)=\"bezl.functions['taskChange'](task)\">\n                </div>\n              </div>\n              <div class=\"row\">\n                <div class=\"col-sm-2\">Percent Complete:</div>\n                <div class=\"col-sm-10\">    \n                  <input class=\"form-control\" type=\"number\" \n                         [(ngModel)]=\"task.PercentComplete\"\n                         style=\"width:75px\"\n                         (change)=\"bezl.functions['taskChange'](task)\">\n                </div>\n              </div>\n              <div class=\"row\">\n\t\t\t\t<div class=\"col-sm-2\">Priority:</div>\n                <div class=\"col-sm-10\">    \n                  <input class=\"form-control\" type=\"number\" \n                         [(ngModel)]=\"task.PriorityCode\" \n                         style=\"width:75px\"\n                         (change)=\"bezl.functions['taskChange'](task)\">\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <!-- END: Details -->\n                        \n      </div>\n      <!-- END: Drill-down view --> \n      \n      <!-- Save button --> \n      <div class=\"row\" *ngIf=\"task.RowState == 'Added' || task.RowState == 'Updated'\" style=\"margin-top:10px;\">\n        <div class=\"col-sm-10\"></div>\n        <div class=\"col-sm-2 pull-right\">\n    \t\t<button (click)=\"bezl.functions['updateTasks']()\" class=\"btn btn-md btn-default pull-right\">Save</button>\n  \t\t</div>\n      </div>\n      <!-- END: Save button -->\n      \n     </td>\n   </tr>\n  </tbody>\n</table>","functions":[{"method":"ngOnInit","code":"bezl.vars.loading = true;\nbezl.vars.selectedAccount = {};\nbezl.vars.Platform = \"Epicor10\";\n\nrequire(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/onStartup.js'], function(functions) {\n\tfunctions.onStartup(bezl)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.vars.loading = true;\r\nbezl.vars.selectedAccount = {};\r\nbezl.vars.Platform = \"Epicor10\";\r\nrequire(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/onStartup.js'], function (functions) {\r\n    functions.onStartup(bezl);\r\n});\r\n"},{"method":"onDataChange","code":"bezl.data = dataResp;\n\nrequire(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/onDataChange.js'], function(functions) {\n\tfunctions.onDataChange(bezl)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.data = dataResp;\r\nrequire(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/onDataChange.js'], function (functions) {\r\n    functions.onDataChange(bezl);\r\n});\r\n"},{"method":"addTask","code":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function(functions) {\n\tfunctions.addTask(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function (functions) {\r\n    functions.addTask(bezl);\r\n});\r\n"},{"method":"taskChange","code":"if (parm.RowState != 'Added') {\n \tparm.RowState = 'Updated'; \n}","declares":["$","parm","bezl","dataResp","require"],"compiled":"if (parm.RowState != 'Added') {\r\n    parm.RowState = 'Updated';\r\n}\r\n"},{"method":"updateTasks","code":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function(functions) {\n\tfunctions.updateTasks(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function (functions) {\r\n    functions.updateTasks(bezl);\r\n});\r\n"},{"method":"refresh","code":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function(functions) {\n\tfunctions.runQuery(bezl, 'Tasks')\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function (functions) {\r\n    functions.runQuery(bezl, 'Tasks');\r\n});\r\n"},{"method":"selectRow","code":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function(functions) {\n\tfunctions.select(bezl, parm)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/task.js'], function (functions) {\r\n    functions.select(bezl, parm);\r\n});\r\n"},{"method":"sort","code":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/account.js'], function(functions) {\n\tfunctions.sort(bezl, parm)\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://rawgit.com/bezlio/bezlio-apps/Sales-Rep---Tasks-View---Move-Save-Button-On-Mobile-Interface-%2330/roles/sales-rep/tasks-view/js/account.js'], function (functions) {\r\n    functions.sort(bezl, parm);\r\n});\r\n"}],"datatrans":null,"data":"","id":"ef8eadde-8846-4f65-abd3-7801fd37cc09","type":"Bezl"}