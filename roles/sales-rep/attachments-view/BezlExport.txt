{
  "id": "a38ae1d6-0b7a-49ae-8de3-aaffc78e6f20",
  "name": "Attachments View",
  "template": "custom",
  "owner": "sremington@saberlogic.com",
  "shares": [],
  "vars": [],
  "dataSubscriptions": [],
  "markup": [
    "<div class=\"row\" *ngIf=\"bezl.vars.selectedAccount.ID == null\">",
    "  <div class=\"col-9\"><h3>No Customer Selected</h3></div>",
    "</div>",
    "",
    "<div class=\"row\" *ngIf=\"bezl.vars.selectedAccount.ID != null\">",
    "  <div class=\"col-sm-9\"><h3>{{bezl.vars.selectedAccount.Name}}</h3></div>",
    "</div>",
    "",
    "<table class=\"table table-hover\">",
    "  <tbody>",
    "    <tr class=\"read\" *ngFor=\"let item of bezl.vars.selectedAccount.Attachments\">",
    "      <td>",
    "        <button [hidden]=\"!(item.FileExt == 'pdf' ",
    "                          || item.FileExt == 'doc' ",
    "                          || item.FileExt == 'txt')\" ",
    "                (click)=\"bezl.functions['viewFile'](item)\" ",
    "                [disabled]=\"bezl.vars.loading.attachment[item.FileName]\"",
    "                class=\"btn btn-md btn-primary\">Open</button>",
    "        <div [hidden]=\"!bezl.vars.loading.attachment[item.FileName]\">",
    "          <label>Loading... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>",
    "        </div>",
    "      </td>",
    "      <td>{{item.Description}}</td>",
    "    </tr>",
    "  </tbody>",
    "</table>",
    "                              "
  ],
  "functions": [
    {
      "method": "ngOnInit",
      "code": "bezl.vars.selectedAccount = {};\nbezl.vars.loading = { \n  attachment: []\n}\n\nbezl.functions['setConfig']();\nrequire([bezl.vars.config.baseUrl + 'onStartup.js'], function(functions) {\n\tfunctions.onStartup(bezl)\n});",
      "declares": [
        "$",
        "parm",
        "bezl",
        "dataResp",
        "require"
      ],
      "compiled": "bezl.vars.selectedAccount = {};\r\nbezl.vars.loading = {\r\n    attachment: []\r\n};\r\nbezl.functions['setConfig']();\r\nrequire([bezl.vars.config.baseUrl + 'onStartup.js'], function (functions) {\r\n    functions.onStartup(bezl);\r\n});\r\n"
    },
    {
      "method": "onDataChange",
      "code": "bezl.data = dataResp;\n\nbezl.functions['setConfig']();\nrequire([bezl.vars.config.baseUrl + 'onDataChange.js'], function(functions) {\n\tfunctions.onDataChange(bezl)\n});",
      "declares": [
        "$",
        "parm",
        "bezl",
        "dataResp",
        "require"
      ],
      "compiled": "bezl.data = dataResp;\r\nbezl.functions['setConfig']();\r\nrequire([bezl.vars.config.baseUrl + 'onDataChange.js'], function (functions) {\r\n    functions.onDataChange(bezl);\r\n});\r\n"
    },
    {
      "method": "viewFile",
      "code": "require([bezl.vars.config.baseUrl + 'attachment.js'], function(functions) {\n\tfunctions.viewFile(bezl, parm);\n});",
      "declares": [
        "$",
        "parm",
        "bezl",
        "dataResp",
        "require"
      ],
      "compiled": "require([bezl.vars.config.baseUrl + 'attachment.js'], function (functions) {\r\n    functions.viewFile(bezl, parm);\r\n});\r\n"
    },
    {
      "method": "setConfig",
      "code": "bezl.vars.config = {};\n\nbezl.vars.config.baseUrl = \"\";\n// If the baseURL is not set in the line above then we will determine a sane default based on the URL\nif (bezl.vars.config.baseUrl == \"\") {\n    var tld = \"\";\n    if (window.location.href.indexOf(\"portal-dev.bezl.io\") !== -1) {\n        tld = \"https://bezlio-apps-dev.bezl.io\";\n    } else {\n        tld = \"https://bezlio-apps.bezl.io\";\n    }\n    bezl.vars.config.baseUrl = tld + \"/roles/sales-rep/attachments-view/js/\";\n}",
      "declares": [
        "$",
        "parm",
        "bezl",
        "dataResp",
        "require"
      ],
      "compiled": "bezl.vars.config = {};\r\nbezl.vars.config.baseUrl = \"\";\r\n// If the baseURL is not set in the line above then we will determine a sane default based on the URL\r\nif (bezl.vars.config.baseUrl == \"\") {\r\n    var tld = \"\";\r\n    if (window.location.href.indexOf(\"portal-dev.bezl.io\") !== -1) {\r\n        tld = \"https://bezlio-apps-dev.bezl.io\";\r\n    }\r\n    else {\r\n        tld = \"https://bezlio-apps.bezl.io\";\r\n    }\r\n    bezl.vars.config.baseUrl = tld + \"/roles/sales-rep/attachments-view/js/\";\r\n}\r\n"
    }
  ],
  "data": ""
}