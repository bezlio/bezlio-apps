<style>
  .btn.btn-mobile {
  	padding-left: 6px;
    padding-right: 6px;
    width: 90px;
  }
  
  .button1 {width: 7%;}
  .button2 {width: 11%;}
  .button3 {width: 25%;}
  .button4 {width: 33%;}
</style>

<form class="form-inline">
  <label>Start Date</label>
  <input type="date" class="form-control mb-2 mr-sm-2 mb-sm-0" [(ngModel)]="bezl.vars['startDate']" name="startDate">

  <label>End Date</label>
    <input type="date" class="form-control mb-2 mr-sm-2 mb-sm-0" [(ngModel)]="bezl.vars['endDate']" name="endDate">

  <button type="submit" class="btn btn-primary" *ngIf="!bezl.vars.loading" (click)="bezl.functions['search']()">Search</button>
</form>
<label class="pull-right" [hidden]="!bezl.vars.loading">Loading... <i class="fa fa-spinner fa-spin" style="font-size:24px"></i></label>


<table class="table table-hover table-striped">
   <thead>
    <tr>
     <th>
       
       <!-- This is the normal button layout for a big screen.  The small layout will follow -->
       <div class="btn-group btn-group-justified hidden-xs" role="group" aria-label="Justified button group">
         <div class="btn-group" role="group">
           <button type="button"
                   (click)="bezl.functions['sort']('RMANum')"
                   class="btn btn-default">
             <span class="pull-left">RMA #</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'RMANum' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'RMANum' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group" role="group">
           <button type="button"
                   (click)="bezl.functions['sort']('RMADate')"
                   class="btn btn-default">
             <span class="pull-left">RMA Date</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'RMADate' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'RMADate' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group" role="group">
           <button type="button" 
                   (click)="bezl.functions['sort']('CustName')"
                   class="btn btn-default">
             <span class="pull-left">Customer</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'CustName' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'CustName' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group" role="group">
           <button type="button" 
                   (click)="bezl.functions['sort']('ContactName')"
                   class="btn btn-default">
             <span class="pull-left">Contact</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ContactName' && bezl.vars.sort == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ContactName' && bezl.vars.sort == 'desc'"></i>
           </button>
         </div>
       </div>
       
       <!-- This is the normal button layout for small screens -->
       <div class="visible-xs">
		<div class="row">
          <div class="col-sm-12">
         Sort By: <br />
         	<div class="btn-group">
             <button type="button"
                     (click)="bezl.functions['sort']('RMANum')"
                     class="btn btn-default btn-mobile"
                     >
               <span class="pull-left">RMA #</span>
               <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'RMANum' && bezl.vars.sort == 'asc'"></i>
               <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'RMANum' && bezl.vars.sort == 'desc'"></i>
             </button>
              
              <button type="button"
                     (click)="bezl.functions['sort']('RMADate')"
                     class="btn btn-default btn-mobile"
                     >
               <span class="pull-left">RMA Date</span>
               <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'RMADate' && bezl.vars.sort == 'asc'"></i>
               <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'RMADate' && bezl.vars.sort == 'desc'"></i>
             </button>

             <button type="button" 
                     (click)="bezl.functions['sort']('CustName')"
                     class="btn btn-default btn-mobile"
                     >
               <span class="pull-left">Customer</span>
               <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'CustName' && bezl.vars.sort == 'asc'"></i>
               <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'CustName' && bezl.vars.sort == 'desc'"></i>
             </button>

             <button type="button" 
                     (click)="bezl.functions['sort']('ContactName')"
                     class="btn btn-default btn-mobile"
                     >
               <span class="pull-left">Contact</span>
               <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'ContactName' && bezl.vars.sort == 'asc'"></i>
               <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'ContactName' && bezl.vars.sort == 'desc'"></i>
             </button>
            </div>
          </div>
         </div>
        </div>
       
     </th>
    </tr>
   </thead>
  <tbody>
   <tr class="read" *ngFor="let row of bezl.vars.RMAs">
    <td>
      <!-- Main row per account -->
      <div class="row"
       (click)="bezl.functions['selectRow'](row)">
        <div class="col-sm-3">
          <i class="fa fa-chevron-right" aria-hidden="true" *ngIf="!row.Selected"></i>
          <i class="fa fa-chevron-down" aria-hidden="true" *ngIf="row.Selected"></i>
          {{row.RMANum}}
        </div>
        
        <div class="col-sm-3">{{row.RMADate | date}}</div>
        <div class="col-sm-3">{{row.CustName}}</div>
        <div class="col-sm-3">{{row.ContactName}}</div>
      </div>
      <!-- END: Main row per account -->
      
      <!-- Drill-down view -->
      <div class="row" *ngIf="row.Selected" style="margin-left:5px;margin-top:10px">
        
        <table class="table table-hover table-striped">
   <thead>
    <tr>
     <th>
       
       <!-- This is the normal button layout for a big screen.  The small layout will follow -->
       <div class="btn-group btn-group-justified hidden-xs" role="group" aria-label="Justified button group">
         <div class="btn-group button1" role="group">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Line #</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'RMALine' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'RMALine' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group button3" role="group">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Order #</span>
             <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'OrderNum' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'OrderNum' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group button4" role="group">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Part # </span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group button2" role="group">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Return Qty</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ReturnQty' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ReturnQty' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
         <div class="btn-group button3" role="group">
           <button type="button" class="btn btn-primary">
             <span class="pull-left">Reason</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ReasonDesc' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ReasonDesc' && bezl.vars.sortInner == 'desc'"></i>
           </button>
         </div>
       </div>
       
       <!-- This is the normal button layout for small screens -->
       <div class="visible-xs">
		<div class="row">
          <div class="col-sm-12">
         	<div class="btn-group">
             <button type="button"class="btn btn-primary btn-mobile">
               <span class="pull-left">Line #</span>
               <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'RMALine' && bezl.vars.sortInner == 'asc'"></i>
               <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'RMALine' && bezl.vars.sortInner == 'desc'"></i>
             </button>

             <button type="button" class="btn btn-primary btn-mobile">
               <span class="pull-left">Order #</span>
               <i class="fa fa-sort-alpha-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'OrderNum' && bezl.vars.sortInner == 'asc'"></i>
               <i class="fa fa-sort-alpha-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'OrderNum' && bezl.vars.sortInner == 'desc'"></i>
             </button>
			<button type="button" class="btn btn-primary btn-mobile">
             <span class="pull-left">Part #</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'PartNum' && bezl.vars.sortInner == 'desc'"></i>
           </button>
            </div>
          </div>
         </div>
         <div class="row">
           <div class="col-sm-12">
             <div class="btn-group">
               <button type="button" class="btn btn-primary btn-mobile">
               <span class="pull-left">OrderRel #</span>
               <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'OrderRelNum' && bezl.vars.sortInner == 'asc'"></i>
               <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'OrderRelNum' && bezl.vars.sortInner == 'desc'"></i>
             </button>
               <button type="button" class="btn btn-primary btn-mobile">
             <span class="pull-left">Return Qty</span>
             <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ReturnQty' && bezl.vars.sortInner == 'asc'"></i>
             <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                *ngIf="bezl.vars.sortCol == 'ReturnQty' && bezl.vars.sortInner == 'desc'"></i>
           </button>
               
             <button type="button" class="btn btn-primary btn-mobile">
               <span class="pull-left">Reason</span>
               <i class="fa fa-sort-numeric-asc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'ReasonDesc' && bezl.vars.sortInner == 'asc'"></i>
               <i class="fa fa-sort-numeric-desc pull-right" aria-hidden="true" 
                  *ngIf="bezl.vars.sortCol == 'ReasonDesc' && bezl.vars.sortInner == 'desc'"></i>
             </button>
            </div>
          </div>
         </div>
     	</div>
     </th>
    </tr>
   </thead>
  <tbody>
   <tr class="read" *ngFor="let line of row.RMALines">
    <td>
      <!-- Main row per line -->
      <div class="row">
        <div class="col-sm-1">
          {{line.RMALine}}
        </div>
        
		<div class="col-sm-3">{{line.OrderNum}}-{{line.OrderLine}}-{{line.OrderRelNum}}</div>
        <div class="col-sm-4">
          {{line.PartNum}}<br> 
          Description: {{line.LineDesc}}</div>
        <div class="col-sm-1">{{line.ReturnQty}}</div>
        <div class="col-sm-3">{{line.ReasonDesc}}</div>
      </div>
        
      <!-- END: Drill-down view --> 
      
      
     </td>
   </tr>
    
  </tbody>
</table>
