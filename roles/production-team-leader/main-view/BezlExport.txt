{"name":"Production Team Leader - Main View","template":"custom","owner":"kcrane@saberlogic.com","shares":[],"vars":[],"dataSubscriptions":[],"markup":"<p-dialog header=\"Initial Settings\" [(visible)]=\"bezl.vars.showSettingsDialog\" [modal]=\"false\">\n\tPlease fill in the values on the Settings tab.\n</p-dialog>\n\n<p-dialog header=\"Select Job\" [(visible)]=\"bezl.vars.showJobDialog\" [modal]=\"false\">\n  <div class=\"row\">\n    <div [hidden]=\"!bezl.vars.loadingJobs\">\n      <label>Loading... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n    </div>\n    <div class=\"col-sm-12\">\n  \t\t<div id=\"jsGridJobs\"></div>\n    </div>\n  </div>\n  <div class=\"row\" style=\"margin-top:10px\">\n    <div class=\"col-sm-3\">\n  \t\t<button (click)=\"bezl.functions['startJobSelect']()\" class=\"btn btn-md btn-success\" style=\"width:100%\">Select</button>\n    </div>\n    <div class=\"col-sm-3\">\n    \t<button (click)=\"bezl.functions['refresh']('OpenJobs')\" class=\"btn btn-md btn-primary\" style=\"width:100%\">Refresh</button>\n    </div>\n    <div class=\"col-sm-3 pull-right\">\n    \t<button (click)=\"bezl.functions['startJobCancel']()\" class=\"btn btn-md btn-danger\" style=\"width:100%\">Cancel</button>\n    </div>\n  </div>\n</p-dialog>\n\n<p-dialog header=\"Add To Team\" [(visible)]=\"bezl.vars.addToTeamPrompt\" [modal]=\"false\" width=300>\n  <div class=\"row\">\n    <div class=\"col-sm-12\">\n  \t\t{{bezl.vars.addToTeam.Name}} is not currently a member of your team.  Do you wish to add this person?\n    </div>\n  </div>\n  <div class=\"row\" style=\"margin-top:10px\">\n    <div class=\"col-sm-6\">\n  \t\t<button (click)=\"bezl.functions['addToTeam']()\" class=\"btn btn-md btn-success\" style=\"width:100%\">Yes</button>\n    </div>\n    <div class=\"col-sm-6\">\n    \t<button (click)=\"bezl.functions['addToTeamCancel']()\" class=\"btn btn-md btn-danger\" style=\"width:100%\">No</button>\n    </div>\n  </div>\n</p-dialog>\n\n<div class=\"row\">\n  <div class=\"col-sm-12\">\n    <div class=\"row\">\n      <!--Panel with Tabs-->\n      <!--===================================================-->\n      <div class=\"panel panel-primary\">\n\n        <!--Panel heading-->\n        <div class=\"panel-heading\">\n          \n          <!--Nav tabs-->\n          <div class=\"panel-control\">\n            <ul class=\"nav nav-tabs\">\n              <!-- Regular Menu Links -->\n              <li class=\"active hidden-xs\"><a data-toggle=\"tab\" href=\"#team\">Team</a></li>\n              <li class=\"hidden-xs\"><a data-toggle=\"tab\" href=\"#settings\">Settings</a></li>\n              \n              <!-- Small Screen Menu Links -->\n              <li class=\"active visible-xs\"><a data-toggle=\"tab\" href=\"#team\"><i class=\"fa fa-users\" aria-hidden=\"true\"></i></a></li>\n              <li class=\"visible-xs\"><a data-toggle=\"tab\" href=\"#settings\"><i class=\"fa fa-cog\" aria-hidden=\"true\"></i></a></li>\n            </ul>\n          </div>\n          \n          <!--Employee search box area - hidden in xs layout -->\n          <div class=\"row hidden-xs\">\n            <div class=\"col-sm-4 mar-all\">\n              <div [hidden]=\"!bezl.vars.loadingEmployees\">\n            \t<label>Loading... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n              </div>\n              <div [hidden]=\"bezl.vars.loadingEmployees\">\n                <div class=\"typeahead__container\">\n              \t\t<div class=\"typeahead__field\">\n                \t\t<span class=\"typeahead__query\">\n                  \t\t\t<input class=\"js-typeahead-team\" name=\"js-typeahead-team\" type=\"search\" autocomplete=\"off\" [(ngModel)]=\"bezl.vars.selectedEmployee.Name\">\n                \t\t</span>\n              \t\t</div>\n            \t</div>\n              </div>\n            </div>\n          </div>\n          \n        </div>\n        \n        <!--Panel body-->\n        <div class=\"panel-body\">\n          <!--Tabs content-->\n          <div class=\"tab-content\" id=\"tab-content-primary\">\n              <!-- BEGIN: Team Tab -->\n              <div id=\"team\" class=\"tab-pane fade in active\">\n                <div class=\"row\">\n                  <div class=\"col-sm-12\">\n                    <button (click)=\"bezl.functions['refresh']('Team')\" class=\"btn btn-md btn-primary\">Refresh</button>\n                    <button (click)=\"bezl.functions['selectAll']()\" class=\"btn btn-md btn-primary\">Select All</button>\n                    <button (click)=\"bezl.functions['deselectAll']()\" class=\"btn btn-md btn-primary\">Deselect All</button>\n                  </div>\n                </div>\n                <div class=\"col-sm-8\">\n                  <div class=\"row\">\n                    <div class=\"col-sm-9\">\n                      <h4>Team Listing</h4>\n                    </div>\n                    <div [hidden]=\"bezl.vars.refreshingTeam\" class=\"col-sm-3 pull-right\" style=\"margin-top:12px;text-align: right;\">\n                      <small>{{bezl.vars.employeesSelected}} Selected</small>\n                    </div>\n                    <div [hidden]=\"!bezl.vars.refreshingTeam\">\n                      <label>Refreshing... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n                    </div>\n                  </div>\n                      \n                  <!--Employee search box area - only visible here in xs layout -->\n                  <div class=\"row  visible-xs\">\n                    <div class=\"col-sm-4 mar-all\">\n                      <div [hidden]=\"!bezl.vars.loadingEmployees\">\n                        <label>Loading... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n                      </div>\n                      <div [hidden]=\"bezl.vars.loading.team\">\n                        <div class=\"typeahead__container\">\n                            <div class=\"typeahead__field\">\n                                <span class=\"typeahead__query\">\n                                    Search: <input class=\"js-typeahead-team2\" name=\"js-typeahead-team2\" type=\"search\" autocomplete=\"off\" [(ngModel)]=\"bezl.vars.selectedEmployee.Name\">\n                                </span>\n                            </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div> \n                 \n                  <div class=\"row\" style=\"height: 400px;\">\n                    <div id=\"jsGridTeam\"></div>\n                  </div>\n                </div>\n                \n                <div class=\"col-sm-4\" style=\"text-align:center;\">\n                  <div class=\"row\">\n                    <div class=\"col-sm-12\">\n                      <h4>Selected Employees Action:</h4>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div [hidden]=\"!bezl.vars.clockingIn\">\n                      <label>Clocking In... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n                    </div>\n                    <div [hidden]=\"bezl.vars.clockingIn\">\n                      <button style=\"width:80%;margin-bottom:10px\" \n                              (click)=\"bezl.functions['clockIn']()\" \n                              class=\"btn btn-md btn-primary\"\n                              [disabled]=\"bezl.vars.employeesSelected == 0\">Clock In</button>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div [hidden]=\"!bezl.vars.startingJob\">\n                      <label>Starting Job... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n                    </div>\n                    <div [hidden]=\"bezl.vars.startingJob\">\n                      <button style=\"width:80%;margin-bottom:10px\" \n                              (click)=\"bezl.functions['startJob']()\" \n                              class=\"btn btn-md btn-primary\"\n                              [disabled]=\"bezl.vars.employeesSelected == 0\">Start Job</button>\n                    </div>\n                  </div>\n                  <div class=\"row\">\n                    <div [hidden]=\"!bezl.vars.endingActivities\">\n                      <label>Ending Activities... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n                    </div>\n                    <div [hidden]=\"bezl.vars.endingActivities\">\n                      <button style=\"width:80%;margin-bottom:10px\" \n                              (click)=\"bezl.functions['endActivities']()\" \n                              class=\"btn btn-md btn-primary\"\n                              [disabled]=\"bezl.vars.employeesSelected == 0\">End Activities</button>\n                    </div>\n                  </div>\n                  <div class=\"row\" id=\"actionButtons\">\n                    <div [hidden]=\"!bezl.vars.clockingOut\">\n                      <label>Clocking Out... <i class=\"fa fa-spinner fa-spin\" style=\"font-size:24px\"></i></label>\n                    </div>\n                    <div [hidden]=\"bezl.vars.clockingOut\">\n                      <button style=\"width:80%;margin-bottom:10px\" \n                              (click)=\"bezl.functions['clockOut']()\" \n                              class=\"btn btn-md btn-primary\"\n                              [disabled]=\"bezl.vars.employeesSelected == 0\">Clock Out</button>\n                    </div>\n                  </div>\n                 \n                </div>\n              </div> \n\t\t\t  <!-- END: Team Tab -->            \n\n              <!-- BEGIN: Settings Tab -->\n              <div id=\"settings\" class=\"tab-pane fade in\">\n                <div class=\"row\">\n                  <div class=\"col-sm-4\">\n                    Platform:\n                  </div>\n                  <div class=\"col-sm-8\">\n                    <select class=\"form-control\" [(ngModel)]=\"bezl.vars.config.Platform\">\n                        <option value=\"Excel\">Default (Excel)</option>\n                        <option value=\"Epicor905\">Epicor 9.05</option>\n                    </select>\n                  </div>\n                </div>\n                <div class=\"row\" style=\"margin-top:10px\">\n                  <div class=\"col-sm-4\">\n                    Shift:\n                  </div>\n                  <div class=\"col-sm-8\">\n                    <input type=\"number\" [(ngModel)]=\"bezl.vars.config.Shift\">\n                  </div>\n                </div>\n                <div class=\"row\" style=\"margin-top:10px\" *ngIf=\"bezl.vars.config.Platform=='Epicor905'\">\n                  <div class=\"col-sm-4\">\n                    Connection:\n                  </div>\n                  <div class=\"col-sm-8\">\n                    <input type=\"text\" \n                           placeholder=\"Connection name from Bezlio Epicor plugin config file\" \n                           [(ngModel)]=\"bezl.vars.config.Connection\">\n                  </div>\n                </div>\n                <div class=\"row\" style=\"margin-top:10px\" *ngIf=\"bezl.vars.config.Platform=='Epicor905'\">\n                  <div class=\"col-sm-4\">\n                    Company ID:\n                  </div>\n                  <div class=\"col-sm-8\">\n                    <input type=\"text\" \n                           placeholder=\"Company ID within Epicor\" \n                           [(ngModel)]=\"bezl.vars.config.Company\">\n                  </div>\n                </div>\n                <div class=\"row\">\n                  <button (click)=\"bezl.functions['saveSettings']()\" class=\"btn btn-md btn-primary\">Save</button>\n                </div>\n              </div> \n\t\t\t  <!-- END: Settings Tab -->  \n          </div>\n        </div>\n      </div>\n      <!--===================================================-->\n      <!--End of panel with tabs-->\n    </div>\n  </div>\n</div>","functions":[{"method":"ngOnInit","code":"bezl.vars.selectedEmployee = { Name: '' };\nbezl.vars.loading = { \n  team: true,\n  inquiry: false,\n}\nbezl.vars.config = {};\nbezl.vars.addToTeam = {};\nbezl.vars.addToTeamPrompt = false;\nbezl.vars.team = [];\nbezl.vars.showJobDialog = false;\n\nrequire(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/onStartup.js'], function(functions) {\n\tfunctions.onStartup(bezl);\n  \n    // Prompt for the Platform if it has not been previously specified\n    if (typeof(Storage) !== \"undefined\" \n        && localStorage.getItem(\"Platform\")\n        && localStorage.getItem(\"Shift\")) {\n        bezl.vars.config.Platform = localStorage.getItem(\"Platform\");\n      \tbezl.vars.config.Shift = localStorage.getItem(\"Shift\");\n      \tbezl.vars.config.Connection = localStorage.getItem(\"Connection\");\n      \tbezl.vars.config.Company = localStorage.getItem(\"Company\");\n    } else {\n        setTimeout(function(){ \n          bezl.vars.config.Platform = \"Excel\";\n          bezl.vars.config.Shift = 1;\n          bezl.vars.showSettingsDialog = true; \n        }, 3000);\n    }\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.vars.selectedEmployee = { Name: '' };\r\nbezl.vars.loading = {\r\n    team: true,\r\n    inquiry: false,\r\n};\r\nbezl.vars.config = {};\r\nbezl.vars.addToTeam = {};\r\nbezl.vars.addToTeamPrompt = false;\r\nbezl.vars.team = [];\r\nbezl.vars.showJobDialog = false;\r\nrequire(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/onStartup.js'], function (functions) {\r\n    functions.onStartup(bezl);\r\n    // Prompt for the Platform if it has not been previously specified\r\n    if (typeof (Storage) !== \"undefined\" && localStorage.getItem(\"Platform\") && localStorage.getItem(\"Shift\")) {\r\n        bezl.vars.config.Platform = localStorage.getItem(\"Platform\");\r\n        bezl.vars.config.Shift = localStorage.getItem(\"Shift\");\r\n        bezl.vars.config.Connection = localStorage.getItem(\"Connection\");\r\n        bezl.vars.config.Company = localStorage.getItem(\"Company\");\r\n    }\r\n    else {\r\n        setTimeout(function () {\r\n            bezl.vars.config.Platform = \"Excel\";\r\n            bezl.vars.config.Shift = 1;\r\n            bezl.vars.showSettingsDialog = true;\r\n        }, 3000);\r\n    }\r\n});\r\n"},{"method":"onDataChange","code":"bezl.data = dataResp;\n\nrequire(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/onDataChange.js'], function(functions) {\n\tfunctions.onDataChange(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.data = dataResp;\r\nrequire(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/onDataChange.js'], function (functions) {\r\n    functions.onDataChange(bezl);\r\n});\r\n"},{"method":"setConfig","code":"bezl.vars.config = {\n\tScriptsBasePath: 'https://cdn.rawgit.com/bezlio/bezlio-apps/1.3'\n}","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.vars.config = {\r\n    ScriptsBasePath: 'https://cdn.rawgit.com/bezlio/bezlio-apps/1.3'\r\n};\r\n"},{"method":"refresh","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(functions) {\n\tfunctions.runQuery(bezl, parm);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (functions) {\r\n    functions.runQuery(bezl, parm);\r\n});\r\n"},{"method":"saveSettings","code":"localStorage.setItem(\"Platform\", bezl.vars.config.Platform);\nlocalStorage.setItem(\"Shift\", bezl.vars.config.Shift);\nlocalStorage.setItem(\"Connection\", bezl.vars.config.Connection);\nlocalStorage.setItem(\"Company\", bezl.vars.config.Company);\nbezl.vars.showSettingsDialog = false;","declares":["$","parm","bezl","dataResp","require"],"compiled":"localStorage.setItem(\"Platform\", bezl.vars.config.Platform);\r\nlocalStorage.setItem(\"Shift\", bezl.vars.config.Shift);\r\nlocalStorage.setItem(\"Connection\", bezl.vars.config.Connection);\r\nlocalStorage.setItem(\"Company\", bezl.vars.config.Company);\r\nbezl.vars.showSettingsDialog = false;\r\n"},{"method":"addToTeam","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\temployees.addToTeam(bezl, bezl.vars.addToTeam);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    employees.addToTeam(bezl, bezl.vars.addToTeam);\r\n});\r\n"},{"method":"addToTeamCancel","code":"bezl.vars.addToTeamPrompt = false;\nbezl.vars.addToTeam = {};\nbezl.vars.selectedEmployee.Name = \"\";","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.vars.addToTeamPrompt = false;\r\nbezl.vars.addToTeam = {};\r\nbezl.vars.selectedEmployee.Name = \"\";\r\n"},{"method":"selectAll","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\temployees.selectAll(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    employees.selectAll(bezl);\r\n});\r\n"},{"method":"deselectAll","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\temployees.deselectAll(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    employees.deselectAll(bezl);\r\n});\r\n"},{"method":"clockIn","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\tbezl.vars.config.Platform = localStorage.getItem(\"Platform\");\n  \tbezl.vars.config.Shift = localStorage.getItem(\"Shift\");\n\temployees.clockIn(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    bezl.vars.config.Platform = localStorage.getItem(\"Platform\");\r\n    bezl.vars.config.Shift = localStorage.getItem(\"Shift\");\r\n    employees.clockIn(bezl);\r\n});\r\n"},{"method":"clockOut","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\tbezl.vars.config.Platform = localStorage.getItem(\"Platform\");\n  \tbezl.vars.config.Shift = localStorage.getItem(\"Shift\");\n\temployees.clockOut(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    bezl.vars.config.Platform = localStorage.getItem(\"Platform\");\r\n    bezl.vars.config.Shift = localStorage.getItem(\"Shift\");\r\n    employees.clockOut(bezl);\r\n});\r\n"},{"method":"startJob","code":"bezl.vars.showJobDialog = true;","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.vars.showJobDialog = true;\r\n"},{"method":"startJobSelect","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\tbezl.vars.config.Platform = localStorage.getItem(\"Platform\");\n\temployees.startJob(bezl, bezl.vars.selectedJob);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    bezl.vars.config.Platform = localStorage.getItem(\"Platform\");\r\n    employees.startJob(bezl, bezl.vars.selectedJob);\r\n});\r\n"},{"method":"startJobCancel","code":"bezl.vars.showJobDialog = false;","declares":["$","parm","bezl","dataResp","require"],"compiled":"bezl.vars.showJobDialog = false;\r\n"},{"method":"endActivities","code":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function(employees) {\n\temployees.endActivities(bezl);\n});","declares":["$","parm","bezl","dataResp","require"],"compiled":"require(['https://cdn.rawgit.com/bezlio/bezlio-apps/1.3/roles/production-team-leader/main-view/js/employees.js'], function (employees) {\r\n    employees.endActivities(bezl);\r\n});\r\n"}],"datatrans":null,"data":"","id":"82a168cf-7373-4318-90eb-07542c6a15a1","type":"Bezl"}